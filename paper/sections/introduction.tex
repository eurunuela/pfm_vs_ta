\section{Introduction}

% \begin{itemize}

%     \item Talk about our motivation for this paper.

%     \item We could mention iCAPs Neuron, and papers with applications like PFM, TA, clinical patient papers with iCAPs.

%     \item Apart from [[Richard F. Betzel]]'s work~\citealt{betzel2020temporal,esfahlani2020high,faskowitz2020edge}, we could mention the connection with the
%     [[Multiplication of Temporal Derivatives]] method~\citealt{shine2015estimation,shine2016dynamics}.

%     \begin{itemize}
%         \item These are basically calculating the derivative, which is the same as applying a high-pass filter and calculating the correlation.
%     \end{itemize}

% \end{itemize}

% Footnote example
% \fntext[myfootnote]{Since 1880.}

Functional magnetic resonance imaging (fMRI) data analysis is often directed to disentangling and understanding the neural processes that occur among brain regions. While interactions in the brain are electrical in nature, the blood oxygenation level-dependent (BOLD) signal present in fMRI data reflects hemodynamics. Thus, an intermediate step that estimates the underlying neuronal activity from the BOLD signal can prove to be useful for understanding such interactions. Often, the analysis of task fMRI data relies on generalized linear models (GLM) to detect maps of brain activity by using the information about the timings of the BOLD events. However, this information can be unkown, innacurate, or insufficient in some scenarios. In such cases, and given the nature of the BOLD signal, the appropriate approximation of the neuronal activity can be obtained by means of deconvolution with an assumed hemodynamic response (\citealt{gitelman2003ModelingRegionalPsychophysiologic}).

Deconvolution and methods alike are becoming more popular for exploring time-varying activity in fMRI data within a number of neuroimaging studies due to their potential to blindly disentangle neural dynamics. One of such cases is the study of resting-state fluctuations with the aim of gaining insight into the origin of the signals driving functional connectivity and its temporal dynamics, as well as the organizational principles of brain function; i.e., to study and deconstruct the spatio-temporal structure of functional components that dynamically construct resting-state networks (\citealt{petridou2013PeriodsRestFMRI,karahanoglu2015TransientBrainActivity,karahanoglu2017DynamicsLargescaleFMRI,kinany2020DynamicFunctionalConnectivity,gonzalez-castillo2019ImagingSpontaneousFlow,allan2015FunctionalConnectivityMRI, zamaniesfahlani2020HighamplitudeCofluctuationsCortical}). Another case in which the timing of the BOLD events is unknown is that of naturalistic paradigms, where subjects are shown a movie or story with the aim of detecting the functional structure of shared responses among a group of subjects and idiosyncratic patterns that could reveal meaningful individual differences (\citealt{finn2020MoviewatchingOutperformsRest,finn2020IdiosynchronySharedResponses,betzel2020TemporalFluctuationsBrain,faskowitz2020EdgecentricFunctionalNetwork}). Furthermore, deconvolution techniques can probe to be helpful in clinical conditions to characterize functional alterations of patients with a progressive stage of multiple sclerosis at rest (\citealt{bommarito2020FunctionalNetworkDynamicsa}), to find functional signatures of prodromal psychotic symptoms and anxiety at rest on patients suffering from schizophrenia (\citealt{zoller2019LargeScaleBrainNetwork}), to detect the foci of interictal events in epilepsy patients without an EEG recording (\citealt{lopes2012DetectionEpilepticActivity}), or to study functional dissociations observed during non-rapid eye movement sleep that are associated with reduced consolidation of information and impaired consciousness (\citealt{tarun2021NREMSleepStagesa}).

This note describes and compares synthesis- and analysis-based deconvolution methods for fMRI data and comprises three sections. In the first, we present the theory behind two state-of-the-art deconvolution approaches based on L1-norm regularized estimators: Paradigm Free Mapping (PFM) (\citealt{caballerogaudes2013ParadigmFreeMapping}) --- available as \textit{3dPFM} and \textit{3dMEPFM} in AFNI --- and Total Activation (TA) (\citealt{karahanoglu2013TotalActivationFMRI}) --- available as part of the \textit{iCAPs toolbox}. We then assess their performance using the same hemodynamic response function with different criteria for the selection of the regularization parameter. We report that both methods produce identical results when estimating the underlying activity-inducing and innovation signals in different signal-to-noise ratio (SNR) settings, and task-based and resting-state experimental datasets. In the final section, we discuss the pros and cons of each of the described techniques and conclude with our vision on potential extensions and developments for deconvolution algorithms for fMRI.